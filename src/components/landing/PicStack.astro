<!-- src/components/global/PicStack.astro -->
<div class="pic-stack-wrapper">
  <!-- Title with exact same classes as Tools component -->
  <h2 class="text-sm uppercase tracking-wider text-zinc-500 mb-6">VISUAL THAT HEALS</h2>
  
  <div class="pic-stack-container">
    <img 
      src="/images/photos/img1.jpg" 
      alt="Random image 1" 
      class="stack-image image-1" 
    />
    <img 
      src="/images/photos/img2.jpg" 
      alt="Random image 2" 
      class="stack-image image-2" 
    />
    <img 
      src="/images/photos/img3.jpg" 
      alt="Random image 3" 
      class="stack-image image-3" 
    />
    <img 
      src="/images/photos/img4.jpg" 
      alt="Random image 4" 
      class="stack-image image-4" 
    />
  </div>
  
  <!-- Labels below the container -->
  <div class="stack-labels">
    <div class="stack-label label-left">
      <span>Shot on iPhone</span>
      <!-- Apple Icon from file -->
      <img src="/images/apple.svg" alt="Apple icon" class="icon" />
    </div>

    <div class="stack-label label-right">
      <a href="https://www.instagram.com/molightme" target="_blank" rel="noopener noreferrer" class="instagram-link">More on Instagram</a>
      <!-- Instagram Icon from file -->
      <img src="/images/instagram.svg" alt="Instagram icon" class="icon" />
    </div>
  </div>
</div>

<style>
  .pic-stack-wrapper {
    position: relative;
    width: 100%;
    margin: 3rem 0;
  }

  .pic-stack-container {
    position: relative;
    width: 100%;
    height: 280px;
    margin-bottom: 0.125rem; /* Halved bottom margin */
  }

  .stack-image {
    position: absolute;
    width: 240px; 
    height: 160px; 
    object-fit: cover;
    border: 8px solid white;
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2), 0 2px 4px rgba(0, 0, 0, 0.1);
    border-radius: 4px; 
  }

  /* Distribute images horizontally to fill container width */
  .image-1 {
    top: 30px;
    left: 0; /* Align to left edge */
    transform: rotate(-6deg);
    z-index: 1;
  }

  .image-2 {
    top: 50px;
    left: 100px; /* Adjusted position */
    transform: rotate(4deg);
    z-index: 2;
  }

  .image-3 {
    top: 40px;
    left: 200px; /* Adjusted position */
    transform: rotate(-1deg);
    z-index: 3;
  }

  .image-4 {
    top: 60px;
    left: calc(100% - 240px); /* Align left edge to container end - width */
    transform: rotate(-5deg);
    z-index: 4;
  }

  /* Labels styling */
  .stack-labels {
    display: flex;
    justify-content: space-between;
    width: 100%;
    padding: 0 4px;
    margin-top: 0.0625rem; /* Halved top margin */
  }

  .stack-label {
    display: inline-flex;
    align-items: center;
    gap: 4px;
    font-size: 0.75rem;
    line-height: 1rem;
    color: #a1a1aa; /* zinc-400 */
    opacity: 0.8;
  }

  .stack-label .icon {
    width: 12px;
    height: 12px;
  }

  .instagram-link {
    color: inherit;
    text-decoration: none;
  }
  .instagram-link:hover {
    text-decoration: underline;
  }

  @media (max-width: 767px) { /* Below md breakpoint */
    .pic-stack-container {
      height: 220px; /* Reduced height for smaller images */
      margin-bottom: 0.0625rem; /* Halved margin on mobile */
    }

    .stack-image {
      width: 192px;  /* 240px * 0.8 */
      height: 128px; /* 160px * 0.8 */
    }

    /* Scaled Image position styles (transforms remain) */
    .image-1 { top: 24px; left: 0; } /* 30 * 0.8 */
    .image-2 { top: 40px; left: 80px; } /* 50 * 0.8, 100 * 0.8 */
    .image-3 { top: 32px; left: 160px; } /* 40 * 0.8, 200 * 0.8 */
    .image-4 { top: 48px; left: calc(100% - 192px); } /* 60 * 0.8, uses new width */
    
    .stack-label {
      font-size: 0.55rem; /* Slightly smaller font */
      gap: 1px; /* Tighter gap between text and icon */
    }
    
    .stack-label .icon {
      width: 6px;
      height: 6px;
    }

    .stack-labels {
      margin-top: 0.03125rem; /* Minimal top margin on mobile */
      padding: 0 2px; /* Tighter horizontal padding */
    }
  }
</style>
